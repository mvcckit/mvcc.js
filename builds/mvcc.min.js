var mvcc;!function(a){a.isString=function(a){return"string"==typeof a},a.isNumber=function(a){return"number"==typeof a},a.isBoolean=function(a){return"boolean"==typeof a},a.isArray=function(a){return a.constructor===Array},a.isFunction=function(a){return"function"==typeof a},a.isObject=function(a){return"object"==typeof a},a.isDefined=function(a){return"undefined"!=typeof a},a.isUndefined=function(a){return"undefined"==typeof a},a.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},a.template=function(b,c){return b.replace(/{{(.+?)}}/g,function(b,d){return d.split(".").reduce(function(b,c){return a.isFunction(b[c])?b[c]():b[c]},c)})},a.com=function(){var b={},c=function(a){return"[data-"+a+"],["+a+"],"+a},d=function(d,e){b[e]=a.extend(d,{_selector:c(e)})},e=function(c){a.isDefined(b[c])&&delete b[c]},f=function(c){for(var d=b[c],e=document.querySelectorAll(d._selector),f=0,g=e.length;g>f;f++){var h=e[f];a.isFunction(d.init)&&d.init(h),a.isFunction(d.draw)&&(h.innerHTML=a.template(d.draw(h),d)),a.isFunction(d.done)&&d.done(h)}},g=function(){for(var a in b)f(a)};return{create:d,remove:e,render:f,renderAll:g,item:b}}(),a.route=function(){var b={},c=function(a,c){b[a]=c},d=function(c){a.isDefined(b[c])&&delete b[c]},e=function(c){a.isDefined(b[c])&&b[c]()},f=function(){window.addEventListener("load",h),window.addEventListener("hashchange",h)},g=function(){window.removeEventListener("load",h),window.removeEventListener("hashchange",h)},h=function(){e(location.hash.split("?")[0])};return{map:c,unmap:d,call:e,listen:f,ignore:g,item:b}}(),a.http=function(){var b=function(b){var c=new window.XMLHttpRequest;return c.open(b.method,b.url,!0,b.username,b.password),{then:function(d,e){c.onreadystatechange=function(){4==c.readyState&&(200==c.status?a.isFunction(d)&&d(c.responseText):a.isFunction(e)&&e(c.statusText))},c.send(b.data)}}},c=function(b,c){return c=c||{},c.method="GET",c.url=b,{then:function(b,d){a.http.request(c).then(b,d)}}},d=function(b,c,d){return d=d||{},d.method="POST",d.url=b,d.data=c,{then:function(b,c){a.http.request(d).then(b,c)}}},e=function(b,c,d){a.http.get(b).then(function(b){document.querySelector(c).innerHTML=b,a.isFunction(d)&&d()},function(){a.isFunction(failure)&&failure()})};return{request:b,get:c,post:d,include:e}}(),a.route.listen()}(mvcc||(mvcc={})),mvcc.com.create({init:function(a){var b=this;mvcc.http.get(a.getAttribute("mv-repeat")).then(function(c){b.load(a,JSON.parse(c))})},load:function(a,b){var c="",d=a.innerHTML;for(var e in b)c+=mvcc.template(d,b[e]);a.innerHTML=c,a.style.background="green",a.removeAttribute("mv-cloak")}},"mv-repeat");